<div fxFlexFill fxLayout="column" fxLayoutGap="12px">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Filters</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <dynamic-form [form]="form" [fields]="fields"></dynamic-form>
    </mat-card-content>
  </mat-card>
  <div fxFlex>
    <mat-tab-group mat-stretch-tabs [selectedIndex]="tabIndex$ | async" (selectedIndexChange)="tabIndexChange($event)">
      <mat-tab label="Aggregated by Employee">
        <ng-template matTabContent>
          <vs-table
            id="state-tax"
            (rowClick)="viewEmployee($event.row.employeeId)"
            [disableSelection]="true"
            [columns]="columns"
            [data]="data$ | async"
          ></vs-table>
        </ng-template>
      </mat-tab>
      <mat-tab label="Aggregated by Date">
        <ng-template matTabContent>
          <vs-tree-viewer
            [data]="treeData$ | async"
            footerLabel="Total in requested period"
            [hideTotal]="true"
            [isExpanded]="true">
          </vs-tree-viewer>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>

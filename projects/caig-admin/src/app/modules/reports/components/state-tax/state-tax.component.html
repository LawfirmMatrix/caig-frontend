<div fxFlexFill fxLayout="column" fxLayoutGap="12px">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Filters</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <dynamic-form [form]="form" [fields]="fields"></dynamic-form>
    </mat-card-content>
  </mat-card>
  <mat-card fxFlex fxLayout="column">
    <mat-card-header>
      <mat-card-title>
        Aggregated by employee
      </mat-card-title>
    </mat-card-header>
    <div fxFlex class="container">
      <vs-table
        id="state-tax"
        (rowClick)="viewEmployee($event.row.employeeId)"
        [disableSelection]="true"
        [columns]="columns"
        [data]="data$ | async"
      ></vs-table>
    </div>
  </mat-card>
  <mat-card fxFlex fxLayout="column">
    <mat-card-header>
      <mat-card-title>
        Aggregated by year/quarter/month
      </mat-card-title>
    </mat-card-header>
    <p>Note: months will be skipped if there were no payments in them.</p>
    <div fxFlex class="container">
      <vs-tree-viewer
        [data]="treeData$ | async"
        footerLabel="Total in requested period"
        [hideTotal]="true"
        [isExpanded]="true">
      </vs-tree-viewer>
    </div>
  </mat-card>
</div>

<div fxFlexFill fxLayoutAlign="center center" [ngStyle]="{backgroundImage: themeBackground$ | async}" class="login">
  <mat-card class="mat-elevation-z10" fxLayout="column">
    <mat-card-header fxLayoutAlign="center center">
      <mat-card-title>Class Action Implementation Group</mat-card-title>
    </mat-card-header>
    <div>
      <mat-divider></mat-divider>
    </div>
    <mat-card-content fxFlex fxLayout="column" fxLayoutAlign="center center">
      <div *ngIf="showErrorMessage" class="mat-error">Incorrect username or password</div>
      <form [formGroup]="signInForm" fxLayout="column" fxLayoutAlign="center center">
        <mat-form-field>
          <mat-label>Username</mat-label>
          <input id="username" matInput formControlName="username">
          <mat-error *ngIf="signInForm.get('username')?.hasError('required')">
            User name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Password</mat-label>
          <input id="password" matInput type="password" [formControlName]="'password'" #passwordField>
          <button mat-icon-button type="button" (click)="passwordField.type === 'password' ? passwordField.type = 'text' : passwordField.type = 'password'" matSuffix>
            <mat-icon *ngIf="passwordField.type === 'password'">visibility</mat-icon>
            <mat-icon *ngIf="passwordField.type === 'text'">visibility_off</mat-icon>
          </button>
          <mat-error>
            Password is required
          </mat-error>
        </mat-form-field>

<!--        <div fxFlexOffset="20px" fxLayout="column" fxLayoutGap="10px">-->
<!--          <mat-checkbox color="accent" formControlName="rememberMe">-->
<!--            Remember me-->
<!--          </mat-checkbox>-->
<!--          <a [routerLink]="['/forgot-password']">Forgot password?</a>-->
<!--        </div>-->
      </form>

    </mat-card-content>
    <div>
      <mat-divider></mat-divider>
    </div>
    <mat-card-actions fxLayoutAlign="center center">
      <div fxLayout="column">
        <button mat-raised-button color="primary" [disabled]="signInForm.disabled || signInForm.invalid" (click)="login()">
          {{signInForm.disabled ? 'Signing In...' : 'Sign In'}}
        </button>
        <mat-progress-bar *ngIf="signInForm.disabled" mode="indeterminate" color="accent"></mat-progress-bar>
      </div>
    </mat-card-actions>
  </mat-card>
</div>
